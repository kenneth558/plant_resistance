The hardest aspect of construction will be soldering the three MSOP packaged components.  It will be easier for you if #1)you use low temperature solder that melts below 300 ºC, and #2) your PCBs are NOT tinned (OSH Park gold plating works fantastic) so the surface will be perfectly flat under the MSOP10.  Higher temperatures than that tend to causes delamination of the PCB.  Solder that melts at that low of temperature will not be the classic wire solder.  It will be paste solder (I refuse to call it "solder paste") that contains solder in powdered form.  (I prefer only to use the term "solder paste" with the traditional rosin paste that does not contain solder to avoid confusion, but I think I'm ahead of my time there.)
 ##### 4.  My reply to:
"Your demo in Lincoln interests me and I would like to know all the details, schema and everything I need to know to replicate your idea!"

You'll find the sketch under the "sketch code" folder in that GitHub location.  I'm keeping two sketches out there so one I call the nightly version.  "Weekly" is more accurate on that.

A verbal description follows the schematic: ![the circuit](https://github.com/kenneth558/plant_resistance_primary_perception/blob/Free/schematic.pdf)
The signal input is from a Wheatstone bridge circuit whose legs span the 5 VDC supply voltage.  My sketch is being written to accommodate more bridges to other DUTs, but I'll use the singular tense as I describe this to you.  Both legs of the bridge ("signal" and "reference" legs) are topped by one LM334 per leg, controlled by three (soon to be two) digipots making two LM334s and six (soon to be four) digipots per bridge.  "Topped" means each of the two LM334s connect to 5 VDC power with their (+) pin (lead).  Their (-) pin is the leg midpoint.  The controlling resistance formed by the digipots connects between the (R) pin and the (-) pin.  The (R) pin is called ADJ in some references.  

The midpoint of the signal leg of the bridge connects to the DUT (device under test: the plant) with the signal electrode, while the other electrode is the ground electrode connecting from somewhere else on the plant near the signal electrode to signal ground of the circuit.  The two electrodes sandwich a leaf between them.  The load resistance in the reference leg has been a 1 MOhm resistor for all of the R&D time.  That value also seemed to work surprisingly well whenever I attached electrodes to an actual plant.  I'm sure different plants and electrode surface areas will result in that resistance value being adjusted upward in the future or for different circumstances.

The digipots need to be low-noise; i.e., you should not use the popular X9Cxxx digipots because they have internal charge pumps that generate noise.  Charge pumps are needed in digipots to save settings to EEPROM, so you'll be stuck using pots that can't save their settings in order to have low noise.  The digipots I've successfully tested are the MCP4162-104 and MCP4162-502 (two of each will handle one bridge).  Those values are 100 KOhm and 5 KOhm, and you would control each LM334 with one 100K pot and one 5K pot in series with each other. Please note that in my development circuit I actually use more 100K pots thinking I would get greater range but discovered the LM334 doesn't seem to have the range at 5VDC to handle adjustment resistance higher than 100K, so you could save yourself a couple parts from what the sketch during development is capable of if you just use one of the 100K pots in series with the 5K pot per LM334.  Save a package of each value by using the MCP4262-x0x instead because that part is a dual digipot, but in such a tiny package (MSOP-10) that they are FAR more difficult to handle and solder.  Alas, the AD8244 is only available in that MSOP-10, so we are forced to deal with it anyway.  The PCB design I offer you uses MSOP-10 all the way around.

Other pin assignments:  

SS – digital 10 to CS of a single digital pot, not abstracted by library call, so can be any pin as determined within main function 
      unidirectional NOT PIN 10 ON LEONARDO - IS FOUND ON LED_BUILTIN_RX (PIN 17) ONLY

MOSI – digital 11 to inputs of all digital pots unidirectional NOT PIN 11 ON LEONARDO - IS FOUND ON 1CSP ONLY.  REQ'D IN ALL CASES.

MISO – digital 12 to outputs of all digital pots unidirectional NOT PIN 12 ON LEONARDO - IS FOUND ON 1CSP ONLY.  NOT USED 
      CURRENTLY BECAUSE WITHOUT 8 TO 12 VDC EEPROM VOLTAGE, SETTINGS CAN'T BE SAVED INSIDE THE DIGPOTS, SO OF COURSE THEY CAN'T BE 
      READ BACK OUT FROM THE DIGIPOTS.

SCK – digital 13 to CLK of all digital pots unidirectional NOT PIN 13 ON LEONARDO - IS FOUND ON 1CSP ONLY


As I describe in the sentence above, I use an extra, unnecessary 100K pot per LM334, so the CS pin numbers in early sketches are wasting two pins, if you care to shift the digital pins for the CS line down in the sketch.  The Arduino Digital pins are set in the sketch to preprocessor macros called "BANK_0_LEG_0_DIGITAL_POT_0" and similar.  If you use the two digipot per leg design, the MSB namesaked digipots need to be skipped in favor of only the MID and LSB namesaked ones; hence, the MSB pins are wasted if you don't shift the others down.  If the sketch version you obtained does not have MID pots, then your sketch is "two pot per leg ready".

A wire from the signal leg midpoint of the bridge and a wire from the reference leg midpoint connect to input pins of an AD8244 quad unity-gain buffer.  The two unused buffers must have their inputs connected to something - it is perfectly within design ratings to parallel the buffers together to ensure no floating inputs, so I do that.  The two buffered outputs from that AD8244 go to analog to digital (A-to-D) pins of the first two Arduino Analog Input pins AND (i.e., "in parallel with") the two input pins of some higher sensitivity ADC of your choice (only HX711 and ADS1X15 supported now).  Use power decoupling capacitors where power wires run any distance.

DATA and CLK to the ADC are set by preprocessor macros PIN_FOR_DATA_TOFROM_HIGHEST_SENSI_ADC and PIN_FOR_CLK_TO_HIGHEST_SENSI_ADC to pins 2 and 3 unless you change them.  Remember to set HIGHEST_BIT_RES_FROM_HIGHEST_SENSI_OUTBOARD_ADC and HIGHEST_SENSI_OUTBOARD_ADC_TYPE to the appropriate value for the ADC you might use.

OPTIONAL:  Quick and dirty operation can be achieved with just the Arduino and the DUT with balancing resistor connected to +5 VDC...and electrodes  Just set the appropriate pre-processor macros:  disable the USING_LM334... macro, the NUM_OF_OUTBOARDS... macro [and maybe the SUPERIMPOSE_FIRST_INBOARDS... macro if you want two pins plotted magnified (superimposing disables the magnified view of a signal)].  IOW, the AD8244, digipots, and high sensitivity ADC are optional if you just want to see a plotline respond to your finger touching it.  The digipots also won't do anything for you if you use a rail-to-rail ADC, as the ADS1X15 is.  

You might be able to be notified of my changes to the project by GitHub settings, if you look around in GitHub, maybe...that's not a GitHub feature I've ever used, yet.

Electrodes are vaporware as of yet: I'm trying conductive foam or conductive sheet plastic.

Link to BOM: https://github.com/kenneth558/plant_resistance_primary_perception/blob/Free/BOM%20PCB%20Ordering%20links.md


If for some odd reason you are stuck using the "not recommended due to far lower resolution" ADS1X15, observe the following 3 points:

 ##### 1.  A decoupling capacitor is required at the ADS1X15 device VDD to GND.  From the datasheet:
>Good power-supply decoupling is important to achieve optimum performance. VDD must be decoupled with at least a 0.1-μF capacitor, as shown in Figure 47. The 0.1-μF bypass capacitor supplies the momentary bursts of extra current required from the supply when the device is converting. Place the bypass capacitor as close to the power-supply pin of the device as possible using low-impedance connections. Use multilayer ceramic chip capacitors (MLCCs) that offer low equivalent series resistance (ESR) and inductance (ESL) characteristics for power-supply decoupling purposes. For very sensitive systems, or for systems in harsh noise environments, avoid the use of vias for connecting the capacitors to the device pins for better noise immunity. The use of multiple vias in parallel lowers the overall inductance, and is beneficial for connections to ground planes.

 ##### 2.  An RC filter to each used ADS1X15 analog input is advised by the manufacturer.  From the datasheet:
>...any noise pick-up along the sensor wiring or the application circuitry can potentially alias into the pass-band. Power line-cycle frequency and harmonics are one common noise source. External noise can also be generated from electromagnetic interference (EMI) or radio frequency interference (RFI) sources, such as nearby motors and cellular phones. Another noise source typically exists on the printed-circuit-board (PCB) itself in the form of clocks and other digital signals. Analog input filtering helps remove unwanted signals from affecting the measurement result...

 ##### 3.  Unused analog input pins of the ADS1X15 should not be connected to GND or more power supply current will be drawn than is necessary.  From the datasheet:
>Either float unused analog inputs, or tie the unused analog inputs to midsupply or VDD. Connecting unused analog inputs to GND is possible, but may yield higher leakage currents than the previous options.

Many other application tips are in the datasheet.  I don't mean to discourage you with technical reading, but those tips _are_ useful, and some diagrams are in there that could help hold your attention.  I won't include any links here b/c they so often go dead.  I'll offer one tip I didn't find stated very clear in the datasheet concerning ADS1X15 ground path.  When the ADS device is configured for single-ended as opposed to differential usage, the reference electrode wire should connect to the ADS1X15 approaching it from the opposite direction that it connects to the Arduino GND.  In other words, looking at the ADS1X15, it is a two sided device, front and back, where two two sides are divided from each other by a single row of pins.  If the Arduino GND connects via the back side, then the reference electrode wire should connect via the front side, and vice versa.  This means that the common practice of soldering header pins that exit only from the back side of the ADS1X15 should be critically reconsidered for its GND pin.  A longer than normal pin or wire should be used so it can provide connection both from the front side of the ADS1X15 and from the back, as in the picture below.![How the ground pin needs to extend from both sides of the ADS board](https://github.com/kenneth558/plant_resistance_primary_perception/blob/Free/embeddeds/adc%20primary%20perception%20ADS%20board%20ground%20pin%20cropped.png)You'll note that I had no long pin so I could only push the standard-length pin halfway through the board.  It was only barely long enough on each side, emphasis on "barely".  

The power decoupling capacitor must *not* be connected on the ADS1X15 signal side of that pin/wire, yet as close as possible on the other (power) side.
